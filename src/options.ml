type options = { end_of_input : int; request_input : bool; always_flush : bool; terminate_now : bool ref }